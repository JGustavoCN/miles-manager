<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1000px" height="600px" viewBox="0 0 1000 600" version="1.1">
<title>Diagrama de Objetos - Cenário: Compra na Amazon com Cartão Nubank</title>
<defs>
    <style type="text/css">
        .object-box { fill: #FEFECE; stroke: #A80036; stroke-width: 1.5; }
        .object-text { font-family: sans-serif; font-size: 13px; fill: #000000; }
        .object-title { font-family: sans-serif; font-size: 14px; font-weight: bold; fill: #000000; }
        .link-arrow { stroke: #A80036; stroke-width: 1.0; fill: none; marker-end: url(#arrowhead); }
        .link-label { font-family: sans-serif; font-size: 11px; fill: #000000; }
        .note-box { fill: #FBFB77; stroke: #A80036; stroke-width: 1.0; }
        .note-text { font-family: sans-serif; font-size: 11px; fill: #000000; }
        .title-text { font-family: sans-serif; font-size: 16px; font-weight: bold; fill: #000000; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
        <polygon points="0 0, 10 3, 0 6" fill="#A80036" />
    </marker>
</defs>

<!-- Title -->
<text x="500" y="25" text-anchor="middle" class="title-text">Diagrama de Objetos - Cenário: Compra na Amazon com Cartão Nubank</text>

<!-- u1: Usuario -->
<g id="u1">
    <rect x="50" y="100" width="200" height="140" class="object-box"/>
    <text x="150" y="120" text-anchor="middle" class="object-title">u1 : Usuario</text>
    <line x1="50" y1="125" x2="250" y2="125" stroke="#A80036" stroke-width="1.5"/>
    <text x="60" y="145" class="object-text">Id = 1</text>
    <text x="60" y="165" class="object-text">Nome = "José"</text>
    <text x="60" y="185" class="object-text">Email = "jose@email.com"</text>
    <text x="60" y="205" class="object-text">SenhaHash = "hash_seguro_123"</text>
</g>

<!-- Note left of u1 -->
<g id="note-u1">
    <rect x="50" y="260" width="200" height="120" class="note-box"/>
    <text x="60" y="280" class="note-text" font-weight="bold">Contexto do Cenário:</text>
    <text x="60" y="295" class="note-text">José possui um cartão Nubank</text>
    <text x="60" y="310" class="note-text">vinculado ao programa Livelo.</text>
    <text x="60" y="330" class="note-text">Ao registrar uma compra,</text>
    <text x="60" y="345" class="note-text">os pontos são calculados</text>
    <text x="60" y="360" class="note-text">automaticamente.</text>
</g>

<!-- p1: ProgramaFidelidade -->
<g id="p1">
    <rect x="400" y="100" width="220" height="120" class="object-box"/>
    <text x="510" y="120" text-anchor="middle" class="object-title">p1 : ProgramaFidelidade</text>
    <line x1="400" y1="125" x2="620" y2="125" stroke="#A80036" stroke-width="1.5"/>
    <text x="410" y="145" class="object-text">Id = 1</text>
    <text x="410" y="165" class="object-text">Nome = "Livelo"</text>
    <text x="410" y="185" class="object-text">Banco = "Bradesco"</text>
    <text x="410" y="205" class="object-text">UsuarioId = 1</text>
</g>

<!-- c1: Cartao -->
<g id="c1">
    <rect x="400" y="300" width="220" height="160" class="object-box"/>
    <text x="510" y="320" text-anchor="middle" class="object-title">c1 : Cartao</text>
    <line x1="400" y1="325" x2="620" y2="325" stroke="#A80036" stroke-width="1.5"/>
    <text x="410" y="345" class="object-text">Id = 1</text>
    <text x="410" y="365" class="object-text">Nome = "Nubank Ultravioleta"</text>
    <text x="410" y="385" class="object-text">Limite = 5000.00</text>
    <text x="410" y="405" class="object-text">FatorConversao = 1.0</text>
    <text x="410" y="425" class="object-text">UsuarioId = 1</text>
    <text x="410" y="445" class="object-text">ProgramaId = 1</text>
</g>

<!-- t1: Transacao -->
<g id="t1">
    <rect x="720" y="300" width="230" height="180" class="object-box"/>
    <text x="835" y="320" text-anchor="middle" class="object-title">t1 : Transacao</text>
    <line x1="720" y1="325" x2="950" y2="325" stroke="#A80036" stroke-width="1.5"/>
    <text x="730" y="345" class="object-text">Id = 1</text>
    <text x="730" y="365" class="object-text">Data = 2024-01-15</text>
    <text x="730" y="385" class="object-text">Valor = 100.00</text>
    <text x="730" y="405" class="object-text">Descricao = "Amazon - Livro"</text>
    <text x="730" y="425" class="object-text">Categoria = "Educação"</text>
    <text x="730" y="445" class="object-text">PontosEstimados = 100</text>
    <text x="730" y="465" class="object-text">CartaoId = 1</text>
</g>

<!-- Note right of t1 -->
<g id="note-t1">
    <rect x="720" y="50" width="230" height="140" class="note-box"/>
    <text x="730" y="70" class="note-text" font-weight="bold">Cálculo Automático (RF-006):</text>
    <text x="730" y="90" class="note-text">Valor: R$ 100,00</text>
    <text x="730" y="105" class="note-text">Cotação USD: R$ 5,00</text>
    <text x="730" y="120" class="note-text">Valor em USD: $20,00</text>
    <text x="730" y="135" class="note-text">Fator Conversão: 1.0</text>
    <text x="730" y="155" class="note-text">→ Pontos = 20 × 1.0 = </text>
    <text x="840" y="155" class="note-text" font-weight="bold">20 pontos</text>
    <text x="730" y="175" class="note-text">(Exemplo simplificado)</text>
</g>

<!-- Links -->
<!-- u1 --> c1 : possui -->
<path d="M 250,170 L 400,380" class="link-arrow"/>
<text x="300" y="260" class="link-label">possui</text>

<!-- u1 --> p1 : gerencia -->
<path d="M 250,140 L 400,140" class="link-arrow"/>
<text x="300" y="135" class="link-label">gerencia</text>

<!-- c1 --> p1 : pontua em -->
<path d="M 510,300 L 510,220" class="link-arrow"/>
<text x="520" y="265" class="link-label">pontua em</text>

<!-- c1 --> t1 : gera -->
<path d="M 620,380 L 720,380" class="link-arrow"/>
<text x="650" y="375" class="link-label">gera</text>

</svg>
