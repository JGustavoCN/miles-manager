### Especificação de Caso de Uso: Autenticar Usuário (Login)

**Identificador:** UC-01
**Ator Principal:** Usuário
**Requisitos Relacionados:** RF-001 (Autenticação de Usuário)
**Objetivo:** Realizar o controle de acesso ao sistema, garantindo que apenas usuários cadastrados e identificados acessem as funcionalidades de gestão (Dashboard, Cartões e Transações).

#### 1. Pré-condições

- O Usuário deve possuir um cadastro prévio no sistema (E-mail e Senha registrados).
- O sistema deve estar acessível via navegador.

#### 2. Condição de Entrada (Gatilho)

- O Usuário acessa a URL inicial do sistema ou é redirecionado ao tentar acessar uma página protegida sem sessão ativa.

#### 3. Fluxo Principal (Caminho Feliz)

Este fluxo descreve o comportamento normal onde o login ocorre com sucesso.

1. **[Sistema]** apresenta o formulário de login solicitando: E-mail e Senha.
2. **[Ator]** insere as credenciais nos campos correspondentes.
3. **[Ator]** clica no botão "Entrar".
4. **[Sistema]** executa a validação de preenchimento dos campos (Include: UC-Validar Dados).
5. **[Sistema]** consulta o banco de dados para verificar a correspondência entre E-mail e Senha.
6. **[Sistema]** gera o token de autenticação (sessão).
7. **[Sistema]** redireciona o usuário para a tela inicial (Dashboard).
8. **O caso de uso termina.**

#### 4. Fluxos Alternativos (Variantes)

Caminhos opcionais que não são erros, mas escolhas de navegação do usuário.

##### **FA-01: Navegar para Cadastro**

- **Gatilho:** No passo 1 do Fluxo Principal.

1. **[Ator]** clica no link "Não tem conta? Cadastre-se".
2. **[Sistema]** redireciona o usuário para o Caso de Uso **Manter Usuário (UC-02)** em modo de criação.
3. **O caso de uso termina** (o fluxo segue no outro caso de uso).

#### 5. Fluxos de Exceção (Tratamento de Erros)

Caminhos onde ocorre erro de validação ou credencial, impedindo o acesso.

##### **FE-01: Campos Obrigatórios Não Preenchidos**

- **Gatilho:** No passo 4 do Fluxo Principal (durante a validação).

1. **[Sistema]** detecta que o campo E-mail ou Senha está vazio.
2. **[Sistema]** interrompe o envio.
3. **[Sistema]** exibe mensagem de alerta: "E-mail e Senha são obrigatórios".
4. **[Retorno]:** O fluxo retorna ao passo 2 do Fluxo Principal para preenchimento.

##### **FE-02: Credenciais Inválidas**

- **Gatilho:** No passo 5 do Fluxo Principal (após consulta ao banco).

1. **[Sistema]** verifica que o e-mail não existe ou a senha não confere.
2. **[Sistema]** exibe mensagem de erro: "E-mail ou senha incorretos".
3. **[Sistema]** limpa o campo de senha para nova tentativa (mantendo o e-mail preenchido).
4. **[Retorno]:** O fluxo retorna ao passo 2 do Fluxo Principal.

#### 6. Pós-condições

- Uma sessão segura é iniciada para o usuário.
- O menu principal e as funcionalidades internas tornam-se acessíveis.
