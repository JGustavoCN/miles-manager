### Especificação de Caso de Uso: Fazer Logout

**Identificador:** UC-07

**Ator Principal:** Usuário **Requisitos Relacionados:** RF-009 (Logout)
**Objetivo:** Permitir que o usuário encerre sua sessão de trabalho no sistema de forma segura, garantindo que suas informações não fiquem acessíveis a terceiros no mesmo dispositivo.

#### 1. Pré-condições

- O Usuário deve estar logado no sistema (possuir uma sessão ativa).

#### 2. Condição de Entrada (Gatilho)

- O Usuário clica no botão ou link "Sair" (Logout), geralmente localizado no cabeçalho ou menu principal da aplicação.

#### 3. Fluxo Principal (Caminho Feliz)

Este fluxo descreve o encerramento voluntário da sessão.

1. **[Ator]** solicita o encerramento da sessão clicando em "Sair".
2. **[Sistema]** recebe a requisição e invalida o token de autenticação (sessão) do usuário no servidor e no navegador.
3. **[Sistema]** limpa quaisquer dados temporários armazenados na memória local referentes ao usuário.
4. **[Sistema]** redireciona o usuário para a tela pública de Login (RF-009).
5. **O caso de uso termina.**

#### 4. Fluxos Alternativos (Variantes) UC-07

Encerramento involuntário por inatividade.

##### **FA-01: Expiração de Sessão (Timeout)**

- **Gatilho:** O usuário permanece inativo no sistema por um período superior ao tempo limite configurado (ex: 30 minutos).

1. **[Sistema]** detecta a inatividade prolongada.
2. **[Sistema]** invalida a sessão automaticamente por segurança.
3. **[Ator]** tenta realizar qualquer ação na tela (clicar em um botão ou navegar).
4. **[Sistema]** identifica que a sessão não é mais válida.
5. **[Sistema]** redireciona o usuário para a tela de Login com uma mensagem: "Sua sessão expirou. Faça login novamente.".

#### 5. Fluxos de Exceção (Tratamento de Erros)

Cenários onde a comunicação falha durante a saída.

##### **FE-01: Perda de Conexão ao Sair**

- **Gatilho:** No passo 1 do Fluxo Principal.

1. **[Sistema]** tenta comunicar ao servidor o fim da sessão, mas não obtém resposta (sem internet).
2. **[Sistema]** força a limpeza dos dados de autenticação locais (cookies/storage) no navegador para garantir a segurança local.
3. **[Sistema]** redireciona para a tela de Login.
4. **[Retorno]:** O caso de uso termina, assumindo que a sessão no servidor expirará eventualmente por inatividade.

### 6. Pós-condições

- O token de acesso do usuário é invalidado.
- O acesso às páginas internas (Dashboard, Cadastros) é bloqueado até que uma nova autenticação (UC-01) seja realizada.
