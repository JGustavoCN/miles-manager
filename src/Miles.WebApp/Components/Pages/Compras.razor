@using MudBlazor
@page "/compras"
@attribute [Microsoft.AspNetCore.Authorization.Authorize]

<PageTitle>Compras e Extrato - Miles Manager</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">
    <MudIcon Icon="@Icons.Material.Filled.Receipt" Class="mr-2" />
    Compras e Extrato de Transa√ß√µes
</MudText>

<MudText Typo="Typo.body1" Class="mb-4">
    Registre suas compras e acompanhe o hist√≥rico de transa√ß√µes com c√°lculo autom√°tico de pontua√ß√£o.
</MudText>

<MudGrid>
    <MudItem xs="12" md="5">
        <MudPaper Elevation="3" Class="pa-4">
            <MudText Typo="Typo.h6" GutterBottom="true">
                <MudIcon Icon="@Icons.Material.Filled.AddShoppingCart" Class="mr-2" />
                Registrar Nova Compra
            </MudText>
            <MudDivider Class="mb-4" />

            <MudAlert Severity="Severity.Info" Variant="Variant.Outlined">
                <MudText Typo="Typo.body2">
                    üìù Formul√°rio de registro ser√° implementado em breve.
                </MudText>
                <MudText Typo="Typo.caption" Class="mt-2">
                    <strong>Campos que estar√£o dispon√≠veis:</strong>
                </MudText>
                <div class="mt-2 ml-4">
                    <MudText Typo="Typo.body2" Class="mb-1">
                        <MudIcon Icon="@Icons.Material.Filled.AttachMoney" Size="Size.Small" /> Valor da Compra (R$)
                    </MudText>
                    <MudText Typo="Typo.body2" Class="mb-1">
                        <MudIcon Icon="@Icons.Material.Filled.CalendarToday" Size="Size.Small" /> Data da Transa√ß√£o
                    </MudText>
                    <MudText Typo="Typo.body2" Class="mb-1">
                        <MudIcon Icon="@Icons.Material.Filled.Description" Size="Size.Small" /> Descri√ß√£o / Estabelecimento
                    </MudText>
                    <MudText Typo="Typo.body2" Class="mb-1">
                        <MudIcon Icon="@Icons.Material.Filled.Category" Size="Size.Small" /> Categoria (Alimenta√ß√£o, Viagem, etc)
                    </MudText>
                    <MudText Typo="Typo.body2" Class="mb-1">
                        <MudIcon Icon="@Icons.Material.Filled.CreditCard" Size="Size.Small" /> Cart√£o Utilizado
                    </MudText>
                </div>
            </MudAlert>

            <MudAlert Severity="Severity.Success" Dense="true" Class="mt-3" Variant="Variant.Filled">
                <MudText Typo="Typo.caption">
                    ‚úÖ <strong>RF-006:</strong> O c√°lculo de pontos ser√° autom√°tico usando a f√≥rmula: <code>(Valor / Cota√ß√£o USD) √ó Fator</code>
                </MudText>
            </MudAlert>
        </MudPaper>
    </MudItem>

    <MudItem xs="12" md="7">
        <MudPaper Elevation="3" Class="pa-4">
            <div class="d-flex justify-space-between align-center mb-4">
                <MudText Typo="Typo.h6">
                    <MudIcon Icon="@Icons.Material.Filled.History" Class="mr-2" />
                    Extrato de Transa√ß√µes
                </MudText>
                <MudText Typo="Typo.caption" Color="Color.Primary">
                    <strong>0 transa√ß√µes</strong>
                </MudText>
            </div>
            <MudDivider Class="mb-4" />

            <MudAlert Severity="Severity.Info" Variant="Variant.Outlined">
                <MudText Typo="Typo.body2">
                    üìä Nenhuma transa√ß√£o registrada ainda.
                </MudText>
                <MudText Typo="Typo.caption" Class="mt-2">
                    Ap√≥s cadastrar compras, voc√™ ver√° aqui:
                </MudText>
                <ul class="mt-2">
                    <li><MudText Typo="Typo.caption">Data e hora da transa√ß√£o</MudText></li>
                    <li><MudText Typo="Typo.caption">Descri√ß√£o e categoria</MudText></li>
                    <li><MudText Typo="Typo.caption">Valor em reais (R$)</MudText></li>
                    <li><MudText Typo="Typo.caption">Pontos estimados calculados automaticamente</MudText></li>
                    <li><MudText Typo="Typo.caption">Cart√£o utilizado</MudText></li>
                </ul>
            </MudAlert>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudPaper Class="pa-4 mt-4" Elevation="2">
    <MudText Typo="Typo.h6" GutterBottom="true">
        <MudIcon Icon="@Icons.Material.Filled.Calculate" Class="mr-2" />
        Como funciona o C√°lculo Autom√°tico de Pontos?
    </MudText>
    <MudDivider Class="mb-3" />

    <MudText Typo="Typo.body2" Class="mb-2">
        O sistema utiliza a seguinte f√≥rmula matem√°tica (RF-006):
    </MudText>

    <MudAlert Severity="Severity.Info" Variant="Variant.Filled" Dense="true">
        <MudText Typo="Typo.body1" Align="Align.Center">
            <strong>Pontos = (Valor em R$ √∑ Cota√ß√£o USD) √ó Fator do Cart√£o</strong>
        </MudText>
    </MudAlert>

    <MudText Typo="Typo.caption" Class="mt-3 mud-text-secondary">
        <strong>Exemplo:</strong> Compra de R$ 500,00 com cota√ß√£o de R$ 5,00 e fator 1,5 = (500 √∑ 5) √ó 1,5 = <strong>150 pontos</strong>
    </MudText>
</MudPaper>

@code {
    // L√≥gica de registro e listagem vir√° aqui na Milestone 1
}
